mkdir -p $HOME/test

export PATH=$HOME/test/bin:$PATH
export LD_LIBRARY_PATH=$HOME/test/lib:$LD_LIBRARY_PATH

# HPCToolKit and its dependencies...

tar -xzvf ./hpctoolkit-externals-5.3.2-r4197.tar.gz
cd hpctoolkit-externals-5.3.2-r4197/
mkdir _build
cd _build
../configure
make
cd ../../

tar -xzvf ./hpctoolkit-5.3.2-r4197.tar.gz
cd hpctoolkit-5.3.2-r4197/
mkdir _build
cd _build
module load papi
../configure --prefix=$HOME/test --with-externals=../../hpctoolkit-externals-5.3.2-r4197/_build/ --with-papi=$TACC_PAPI_DIR
make install
cd ../../
rm -rf hpctoolkit-5.3.2-r4197/
rm -rf hpctoolkit-externals-5.3.2-r4197/

# ROSE and its dependencies...

tar -xzvf ./boost_1_47_0.tar.gz
cd boost_1_47_0/
./bootstrap.sh
./b2 install --prefix=$HOME/test
cd ../
rm -rf boost_1_47_0/

tar -xzvf ./rose-0.9.5a-without-EDG-20584.tar.gz
cd rose-0.9.5a-20584/
mkdir _build
cd _build
../configure --prefix=$HOME/test --with-boost=$HOME/test --disable-tutorial-directory --disable-projects-directory --disable-tests-directory
JAVA_TOOL_OPTIONS="-Xms256M -Xmx1G" make
cd ../../
rm -rf rose-0.9.5a-20584/

# PIPS and its dependencies...

tar -xzvf ./cproto.tar.gz
cd cproto-4.7j/
mkdir _build
cd _build
../configure --prefix=$HOME/test
make install
cd ../../
rm -rf cproto-4.7j/

tar -xzvf ./polylib-5.22.5.tar.gz
cd polylib-5.22.5/
mkdir _build
cd _build
../configure --prefix=$HOME/test
make install
cd ../../
rm -rf polylib-5.22.5/

tar -xzvf ./newgen-0.1.tar.gz
cd newgen-0.1/
autoreconf --install
mkdir _build
cd _build
../configure --disable-static --prefix=$HOME/test
make install
cd ../../
rm -rf newgen-0.1/

tar -xzvf ./linear-0.1.tar.gz
cd linear-0.1
autoreconf --install
mkdir _build
cd _build
../configure --disable-static --prefix=$HOME/test PKG_CONFIG_PATH=$HOME/test/lib/pkgconfig:$PKG_CONFIG_PATH
make install
cd ../../
rm -rf linear-0.1/

tar -xzvf ./pips-0.1.tar.gz
cd pips-0.1/
autoreconf --install
mkdir _build
cd _build
../configure --disable-static --prefix=$HOME/test PKG_CONFIG_PATH=$HOME/test/lib/pkgconfig:$PKG_CONFIG_PATH
make install
cd ../../
rm -rf pips-0.1/

# PerfExpert and its dependencies...

tar -xzvf ./sparsehash-2.0.2.tar.gz
cd sparsehash-2.0.2/
mkdir _build
cd _build
../configure --prefix=$HOME/test
make install
cd ../../
rm -rf sparsehash-2.0.2/

tar -xzvf ./gmp-5.1.2.tar.gz
cd gmp-5.1.2/
mkdir _build
cd _build
../configure --prefix=$HOME/test
make
make check
make install
cd ../../
rm -rf gmp-5.1.2/

tar -xzvf ./apache-ant-1.9.1-bin.tar.gz
export ANT_HOME=`pwd`/apache-ant-1.9.1



