version = 1.0

# LCPI config generated using sniffer
ratio.floating_point = FP_COMP_OPS_EXE:SSE_PACKED_SINGLE + FP_COMP_OPS_EXE:SSE_FP_PACKED_DOUBLE + FP_COMP_OPS_EXE:SSE_FP_SCALAR_SINGLE:SSE_SCALAR_DOUBLE / INST_RETIRED.ANY_P
ratio.data_accesses = MEM_UOP_RETIRED:ANY_LOADS / INST_RETIRED.ANY_P

percent.GFLOPS_(%_max).overall = ((SIMD_FP_256:PACKED_SINGLE*8 + (SIMD_FP_256:PACKED_DOUBLE + FP_COMP_OPS_EXE:SSE_PACKED_SINGLE)*4 + FP_COMP_OPS_EXE:SSE_FP_PACKED_DOUBLE*2 + FP_COMP_OPS_EXE:SSE_FP_SCALAR_SINGLE:SSE_SCALAR_DOUBLE) / PAPI_TOT_CYC) / 8
percent.GFLOPS_(%_max).packed = ((SIMD_FP_256:PACKED_SINGLE*8 + (SIMD_FP_256:PACKED_DOUBLE + FP_COMP_OPS_EXE:SSE_PACKED_SINGLE)*4 + FP_COMP_OPS_EXE:SSE_FP_PACKED_DOUBLE*2) / PAPI_TOT_CYC) / 8
percent.GFLOPS_(%_max).scalar = (FP_COMP_OPS_EXE:SSE_FP_SCALAR_SINGLE:SSE_SCALAR_DOUBLE / PAPI_TOT_CYC) / 8
overall = PAPI_TOT_CYC / INST_RETIRED.ANY_P

data_accesses.overall = ((MEM_UOP_RETIRED:ANY_LOADS   * L1_lat) + (L2_RQSTS.DEMAND_DATA_RD_HIT * L2_lat) + ((LAST_LEVEL_CACHE_REFERENCES - LAST_LEVEL_CACHE_MISSES) * L3_lat) + (LAST_LEVEL_CACHE_MISSES     * mem_lat)) / INST_RETIRED.ANY_P
data_accesses.L1d_hits = (MEM_UOP_RETIRED:ANY_LOADS * L1_lat) / INST_RETIRED.ANY_P
data_accesses.L2d_hits = (L2_RQSTS.DEMAND_DATA_RD_HIT * L2_lat) / INST_RETIRED.ANY_P
data_accesses.L3d_hits = ((LAST_LEVEL_CACHE_REFERENCES - LAST_LEVEL_CACHE_MISSES) * L3_lat) / INST_RETIRED.ANY_P
data_accesses.L3d_misses = (LAST_LEVEL_CACHE_MISSES * mem_lat) / INST_RETIRED.ANY_P

instruction_accesses.overall = ((ICACHE * L1_lat) + (L2_RQSTS:ALL_CODE_RD * L2_lat) + (L2_RQSTS:CODE_RD_MISS * mem_lat)) / INST_RETIRED.ANY_P
instruction_accesses.L1i_hits = (ICACHE * L1_lat) / INST_RETIRED.ANY_P
instruction_accesses.L2i_hits = (L2_RQSTS:ALL_CODE_RD * L2_lat) / INST_RETIRED.ANY_P
instruction_accesses.L2i_misses = (L2_RQSTS.CODE_RD_MISS * mem_lat) / INST_RETIRED.ANY_P

data_TLB.overall = (DTLB_LOAD_MISSES.WALK_DURATION * TLB_lat) / INST_RETIRED.ANY_P
instruction_TLB.overall = (ITLB_MISSES.WALK_DURATION * TLB_lat) / INST_RETIRED.ANY_P

branch_instructions.overall = (PAPI_BR_INS * BR_lat + PAPI_BR_MSP * BR_miss_lat) / INST_RETIRED.ANY_P
branch_instructions.correctly_predicted = PAPI_BR_INS * BR_lat / INST_RETIRED.ANY_P
branch_instructions.mispredicted = PAPI_BR_MSP * BR_miss_lat / INST_RETIRED.ANY_P

floating-point_instr.overall = (((FP_COMP_OPS_EXE:SSE_FP_PACKED_DOUBLE + FP_COMP_OPS_EXE:SSE_PACKED_SINGLE + FP_COMP_OPS_EXE:SSE_FP_SCALAR_SINGLE:SSE_SCALAR_DOUBLE) * FP_lat) + (PAPI_FDV_INS * FP_slow_lat)) / INST_RETIRED.ANY_P
floating-point_instr.fast_FP_instr = ((FP_COMP_OPS_EXE:SSE_FP_PACKED_DOUBLE + FP_COMP_OPS_EXE:SSE_PACKED_SINGLE + FP_COMP_OPS_EXE:SSE_FP_SCALAR_SINGLE:SSE_SCALAR_DOUBLE) * FP_lat) / INST_RETIRED.ANY_P
floating-point_instr.slow_FP_instr = (PAPI_FDV_INS * FP_slow_lat) / INST_RETIRED.ANY_P
